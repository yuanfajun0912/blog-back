<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/front/favicon.ico><title>blogfront</title><link href=/front/css/chunk-2ba2f169.5f3637b7.css rel=prefetch><link href=/front/css/chunk-352df33a.f179b90b.css rel=prefetch><link href=/front/css/chunk-35ae9854.a447a17b.css rel=prefetch><link href=/front/css/chunk-37b06b4e.579b27ee.css rel=prefetch><link href=/front/css/chunk-3d80b7de.6581beb6.css rel=prefetch><link href=/front/css/chunk-4bdf717e.cbeef13b.css rel=prefetch><link href=/front/css/chunk-62800daa.aae8f533.css rel=prefetch><link href=/front/css/chunk-f0893ee8.5731e61d.css rel=prefetch><link href=/front/js/chunk-2ba2f169.7e45ea0f.js rel=prefetch><link href=/front/js/chunk-352df33a.529eba28.js rel=prefetch><link href=/front/js/chunk-35ae9854.88e3c88e.js rel=prefetch><link href=/front/js/chunk-37b06b4e.706c520b.js rel=prefetch><link href=/front/js/chunk-3d80b7de.228d94c6.js rel=prefetch><link href=/front/js/chunk-4bdf717e.19464ff9.js rel=prefetch><link href=/front/js/chunk-62800daa.9bb1be02.js rel=prefetch><link href=/front/js/chunk-f0893ee8.3bf007ef.js rel=prefetch><link href=/front/css/app.caeb467f.css rel=preload as=style><link href=/front/css/chunk-vendors.d39e9fad.css rel=preload as=style><link href=/front/js/app.1e05ed3f.js rel=preload as=script><link href=/front/js/chunk-vendors.8ba8216e.js rel=preload as=script><link href=/front/css/chunk-vendors.d39e9fad.css rel=stylesheet><link href=/front/css/app.caeb467f.css rel=stylesheet></head><body><noscript><strong>We're sorry but blogfront doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app></div><script id=sakura_point_vsh type=x-shader/x_vertex>uniform mat4 uProjection;
      
      uniform mat4 uModelview;
      
      uniform vec3 uResolution;
      
      uniform vec3 uOffset;
      
      uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
      
      uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start
      
      
      
      attribute vec3 aPosition;
      
      attribute vec3 aEuler;
      
      attribute vec2 aMisc; //x:size, y:fade
      
      
      
      varying vec3 pposition;
      
      varying float psize;
      
      varying float palpha;
      
      varying float pdist;
      
      
      
      //varying mat3 rotMat;
      
      varying vec3 normX;
      
      varying vec3 normY;
      
      varying vec3 normZ;
      
      varying vec3 normal;
      
      
      
      varying float diffuse;
      
      varying float specular;
      
      varying float rstop;
      
      varying float distancefade;
      
      
      
      void main(void) {
      
        // Projection is based on vertical angle
      
        vec4 pos = uModelview * vec4(aPosition + uOffset, 1.0);
      
        gl_Position = uProjection * pos;
      
        gl_PointSize = aMisc.x * uProjection[1][1] / -pos.z * uResolution.y * 0.5;
      
        
      
        pposition = pos.xyz;
      
        psize = aMisc.x;
      
        pdist = length(pos.xyz);
      
        palpha = smoothstep(0.0, 1.0, (pdist - 0.1) / uFade.z);
      
        
      
        vec3 elrsn = sin(aEuler);
      
        vec3 elrcs = cos(aEuler);
      
        mat3 rotx = mat3(
      
          1.0, 0.0, 0.0,
      
          0.0, elrcs.x, elrsn.x,
      
          0.0, -elrsn.x, elrcs.x
      
        );
      
        mat3 roty = mat3(
      
          elrcs.y, 0.0, -elrsn.y,
      
          0.0, 1.0, 0.0,
      
          elrsn.y, 0.0, elrcs.y
      
        );
      
        mat3 rotz = mat3(
      
          elrcs.z, elrsn.z, 0.0, 
      
          -elrsn.z, elrcs.z, 0.0,
      
          0.0, 0.0, 1.0
      
        );
      
        mat3 rotmat = rotx * roty * rotz;
      
        normal = rotmat[2];
      
        
      
        mat3 trrotm = mat3(
      
          rotmat[0][0], rotmat[1][0], rotmat[2][0],
      
          rotmat[0][1], rotmat[1][1], rotmat[2][1],
      
          rotmat[0][2], rotmat[1][2], rotmat[2][2]
      
        );
      
        normX = trrotm[0];
      
        normY = trrotm[1];
      
        normZ = trrotm[2];
      
        
      
        const vec3 lit = vec3(0.6917144638660746, 0.6917144638660746, -0.20751433915982237);
      
        
      
        float tmpdfs = dot(lit, normal);
      
        if(tmpdfs < 0.0) {
      
          normal = -normal;
      
          tmpdfs = dot(lit, normal);
      
        }
      
        diffuse = 0.4 + tmpdfs;
      
        
      
        vec3 eyev = normalize(-pos.xyz);
      
        if(dot(eyev, normal) > 0.0) {
      
          vec3 hv = normalize(eyev + lit);
      
          specular = pow(max(dot(hv, normal), 0.0), 20.0);
      
        }
      
        else {
      
          specular = 0.0;
      
        }
      
        
      
        rstop = clamp((abs(pdist - uDOF.x) - uDOF.y) / uDOF.z, 0.0, 1.0);
      
        rstop = pow(rstop, 0.5);
      
        //-0.69315 = ln(0.5)
      
        distancefade = min(1.0, exp((uFade.x - pdist) * 0.69315 / uFade.y));
      
      }</script><script src=/front/js/chunk-vendors.8ba8216e.js></script><script src=/front/js/app.1e05ed3f.js></script></body></html>