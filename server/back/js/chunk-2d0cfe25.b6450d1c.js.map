{"version":3,"sources":["webpack:///./src/views/global/AboutManage.vue?ae6c","webpack:///src/views/global/AboutManage.vue","webpack:///./src/views/global/AboutManage.vue?d183","webpack:///./src/views/global/AboutManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","about","nativeOn","$event","preventDefault","editAbout","staticStyle","model","value","callback","$$v","$set","expression","avatar","_v","contactWays","_e","staticClass","on","getHtml","staticRenderFns","name","data","methods","getAbout","$http","get","then","$message","message","type","$confirm","cancelButtonText","confirmButtonText","created","component"],"mappings":"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","file":"js/chunk-2d0cfe25.b6450d1c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"about\",attrs:{\"model\":_vm.about,\"label-width\":\"80px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.editAbout($event)}}},[_c('el-form-item',{staticStyle:{\"width\":\"40%\"},attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写昵称\",\"clearable\":\"\"},model:{value:(_vm.about.nickName),callback:function ($$v) {_vm.$set(_vm.about, \"nickName\", $$v)},expression:\"about.nickName\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"80%\"},attrs:{\"label\":\"格言\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写格言\",\"clearable\":\"\"},model:{value:(_vm.about.motto),callback:function ($$v) {_vm.$set(_vm.about, \"motto\", $$v)},expression:\"about.motto\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"80%\"},attrs:{\"label\":\"头像\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写头像的外部链接\",\"clearable\":\"\"},model:{value:(_vm.about.avatar),callback:function ($$v) {_vm.$set(_vm.about, \"avatar\", $$v)},expression:\"about.avatar\"}}),_c('el-avatar',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"src\":_vm.about.avatar,\"fit\":\"cover\",\"size\":100}})],1),(_vm.about.contactWays)?_c('el-form-item',{staticStyle:{\"width\":\"85%\"},attrs:{\"label\":\"联系方式\"}},[_vm._v(\" github: \"),_c('el-input',{attrs:{\"placeholder\":\"请填写链接\",\"clearable\":\"\"},model:{value:(_vm.about.contactWays[0]),callback:function ($$v) {_vm.$set(_vm.about.contactWays, 0, $$v)},expression:\"about.contactWays[0]\"}}),_vm._v(\" csdn: \"),_c('el-input',{attrs:{\"placeholder\":\"请填写链接\",\"clearable\":\"\"},model:{value:(_vm.about.contactWays[1]),callback:function ($$v) {_vm.$set(_vm.about.contactWays, 1, $$v)},expression:\"about.contactWays[1]\"}}),_vm._v(\" 邮箱: \"),_c('el-input',{attrs:{\"placeholder\":\"请填写邮箱\",\"clearable\":\"\"},model:{value:(_vm.about.contactWays[2]),callback:function ($$v) {_vm.$set(_vm.about.contactWays, 2, $$v)},expression:\"about.contactWays[2]\"}}),_vm._v(\" 微信: \"),_c('el-input',{attrs:{\"placeholder\":\"请填写微信\",\"clearable\":\"\"},model:{value:(_vm.about.contactWays[3]),callback:function ($$v) {_vm.$set(_vm.about.contactWays, 3, $$v)},expression:\"about.contactWays[3]\"}})],1):_vm._e(),_c('el-form-item',{staticClass:\"formButton\",staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{staticClass:\"submitBtn\",attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存设置\")])],1),_c('mavon-editor',{attrs:{\"fontSize\":\"18px\"},on:{\"save\":_vm.getHtml},model:{value:(_vm.about.value),callback:function ($$v) {_vm.$set(_vm.about, \"value\", $$v)},expression:\"about.value\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form ref=\"about\" \r\n             :model=\"about\"\r\n             label-width=\"80px\"\r\n             @submit.native.prevent=\"editAbout\">\r\n      <el-form-item label=\"昵称\" style=\"width: 40%\">\r\n        <el-input v-model=\"about.nickName\" placeholder=\"请填写昵称\" clearable></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"格言\" style=\"width: 80%\">\r\n        <el-input v-model=\"about.motto\" placeholder=\"请填写格言\" clearable></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"头像\" style=\"width: 80%\">\r\n        <el-input v-model=\"about.avatar\" placeholder=\"请填写头像的外部链接\" clearable></el-input>\r\n        <el-avatar :src=\"about.avatar\" fit=\"cover\" :size=\"100\" style=\"margin-top: 20px\">\r\n        </el-avatar>\r\n      </el-form-item>\r\n      <el-form-item label=\"联系方式\" style=\"width: 85%\" v-if=\"about.contactWays\">\r\n          github: <el-input v-model=\"about.contactWays[0]\" placeholder=\"请填写链接\" clearable></el-input>\r\n          csdn: <el-input v-model=\"about.contactWays[1]\" placeholder=\"请填写链接\" clearable></el-input>\r\n          邮箱: <el-input v-model=\"about.contactWays[2]\" placeholder=\"请填写邮箱\" clearable></el-input>\r\n          微信: <el-input v-model=\"about.contactWays[3]\" placeholder=\"请填写微信\" clearable></el-input>\r\n      </el-form-item>\r\n      <el-form-item class=\"formButton\" style=\"text-align: right\">\r\n        <el-button type=\"primary\" native-type=\"submit\" class=\"submitBtn\">保存设置</el-button>\r\n      </el-form-item>\r\n      <!-- markdown文本编辑器 -->\r\n      <mavon-editor \r\n        v-model=\"about.value\"\r\n        fontSize=\"18px\"\r\n        @save=\"getHtml\"\r\n      ></mavon-editor>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AboutManage',\r\n  data() {\r\n    return {\r\n      // about: {\r\n      //   avatar: '',  //头像\r\n      //   nickName: '',  //昵称\r\n      //   motto: '',  //格言\r\n      //   contactWays: [],  //联系方式\r\n      //   body: '',  //简介（html）\r\n      //   value: '',  //输入的内容\r\n      // }\r\n      about: {},\r\n      value: '', //markdown编辑器的value\r\n    }\r\n  },\r\n  methods: {\r\n    getAbout() {\r\n      this.$http.get('/about').then(res => {\r\n        this.about = res.data[0]\r\n      })\r\n    },\r\n    editAbout() {\r\n      if(this.$store.state.user === 'visitor') {  //如果是游客则禁止操作\r\n        return this.$message({  \r\n          message: '游客身份禁止操作',\r\n          type: 'error'\r\n        });\r\n      }\r\n      this.$confirm('是否确定保存设置？', '提示', {  //提示框\r\n        cancelButtonText: '取消',\r\n        confirmButtonText: '确定',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          this.$http.post('/about', this.about).then(() => {\r\n            this.$message({ \r\n              message: '保存设置成功',\r\n              type: 'success'\r\n            });\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          });          \r\n        });\r\n    },\r\n    getHtml(value, render) {  //点击markdown编辑器的保存按钮\r\n      this.$confirm('此操作将替换掉原有的文本内容，是否继续？', '提示', {  //提示框\r\n        cancelButtonText: '取消',\r\n        confirmButtonText: '确定',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.about.body = render\r\n        this.$message({\r\n          type: 'success',\r\n          message: '已保存'\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消保存'\r\n        });          \r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getAbout()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutManage.vue?vue&type=template&id=75c02263&scoped=true&\"\nimport script from \"./AboutManage.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75c02263\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}